<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>\</title>
    <script src="//cdn.bootcss.com/jquery/2.2.4/jquery.js"></script>
</head>
<body>

<!--测试上传文件-->
<form method="post" action="http://localhost:3000/student/testuplpad"  enctype="multipart/form-data">
    <input name="test" id="test" type="file">
    <input name="test2" id="test2" type="file">
    <input type="submit" value="提交">
</form>

<!--测试base64图片上传-->

    <input  id="base64" type="file" onchange="uploadBase64()">
    <img id="testimage">
<script>
    function uploadBase64(){
        var base64 = document.getElementById('base64');
        var file = base64.files[0];

        function insertTitle(path){
            var test1 = path.lastIndexOf("/"); //对路径进行截取
            var test2 = path.lastIndexOf("\\"); //对路径进行截取
            var test= Math.max(test1, test2);
            if(test<0){
                document.getElementById("test").value = path;
            }else{
                document.getElementById("test").value = path.substring(test + 1); //赋值文件名
            }
        }
        //上传base64图片
    }

    function convertImgToBase64URL(url, callback, outputFormat){
        var img = new Image();
        img.crossOrigin = 'Anonymous';
        img.onload = function(){
            var canvas = document.createElement('CANVAS'),
                    ctx = canvas.getContext('2d'), dataURL;
            canvas.height = this.height;
            canvas.width = this.width;
            ctx.drawImage(this, 0, 0);
            dataURL = canvas.toDataURL(outputFormat);
            callback(dataURL);
            canvas = null;
        };
        img.src = url;
    }
</script>

</body>
</html>